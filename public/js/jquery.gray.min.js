/*! Gray v1.6.0 https://github.com/karlhorky/gray) | MIT */
!function(t,e,i,s){var r="gray",a={fade:!1,classes:{fade:"grayscale-fade"}},n=0;function h(e,i){var s;s=((i=i||{}).classes||{}).fade||a.classes.fade,i.fade=i.fade||e.className.indexOf(s)>-1,this.element=e,this.elementId=n++,this.settings=t.extend({},a,i),this._defaults=a,this._name=r,this.init()}t.extend(h.prototype,{init:function(){var e;!Modernizr.cssfilters&&Modernizr.inlinesvg&&Modernizr.svgfilters&&(e=t(this.element),(this.cssFilterDeprecated(e)||this.settings.fade)&&this.switchImage(e))},cssFilterDeprecated:function(t){return"none"===t.css("filter")},elementType:function(t){return"IMG"===t.prop("tagName")?"Img":"Bg"},pxToNumber:function(t){return parseInt(t.replace("px",""))},getComputedStyle:function(t){for(var i={},s={},r=0,a=(i=e.getComputedStyle(t,null)).length;r<a;r++){var n=i[r],h=i.getPropertyValue(n);s[n]=h}return s},extractUrl:function(t){return startRegex=/^url\(["']?/,endRegex=/["']?\)$/,t.replace(startRegex,"").replace(endRegex,"")},positionToNegativeMargin:function(t){var e;return e=t.match(/^(-?\d+\S+)/)[0],"margin:"+t.match(/\s(-?\d+\S+)$/)[0]+" 0 0 "+e},getBgSize:function(e,i){var s,r,a,n,h,g;if((s=new Image).src=e,"auto"!==i&&"cover"!==i&&"contain"!==i&&"inherit"!==i){var o=t(this.element);r=s.width/s.height,n=parseInt((i.match(/^(\d+)px/)||[0,0])[1]),g=parseInt((i.match(/\s(\d+)px$/)||[0,0])[1]),a=o.height()*r,h=o.width()/r,n=n||a,g=g||h}return n||g?{width:n,height:g}:{width:s.width,height:s.height}},getImgParams:function(t){var e={};e.styles=this.getComputedStyle(t[0]);var i={top:this.pxToNumber(e.styles["padding-top"]),right:this.pxToNumber(e.styles["padding-right"]),bottom:this.pxToNumber(e.styles["padding-bottom"]),left:this.pxToNumber(e.styles["padding-left"])},s={top:this.pxToNumber(e.styles["border-top-width"]),right:this.pxToNumber(e.styles["border-right-width"]),bottom:this.pxToNumber(e.styles["border-bottom-width"]),left:this.pxToNumber(e.styles["border-left-width"])};return e.image={width:this.pxToNumber(e.styles.width),height:this.pxToNumber(e.styles.height)},e.svg={url:t[0].src,padding:i,borderWidth:s,width:e.image.width+i.left+i.right+s.left+s.right,height:e.image.height+i.top+i.bottom+s.top+s.bottom,offset:""},e},getBgParams:function(e){var i,s={};return i=this.extractUrl(e.css("background-image")),bgSize=this.getBgSize(i,e.css("background-size")),offset=this.positionToNegativeMargin(e.css("background-position")),s.styles=this.getComputedStyle(e[0]),s.svg=t.extend({url:i},bgSize,{offset:offset}),s.image={width:s.svg.width,height:s.svg.height},s},setStyles:function(t,e,i,s){return e.display="inline-block",e.overflow=e["overflow-x"]=e["overflow-y"]="hidden",e["background-image"]='url("'+i.url+'")',e["background-size"]=s.width+"px "+s.height+"px","Img"===t&&(e["background-repeat"]="no-repeat",e["background-position"]=i.padding.left+"px "+i.padding.top+"px",e.width=i.width,e.height=i.height),delete e.filter,e},addSVGFilterOnce:function(){$body=t("body"),$body.data("plugin_"+r+"_has_filter")||$body.data("plugin_"+r+"_has_filter","true").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="position:absolute"><defs><filter id="gray"><feColorMatrix type="saturate" values="0"/></filter></defs></svg>')},switchImage:function(e){var i,s,r,a,n,h;s=this["get"+(i=this.elementType(e))+"Params"](e),r=this.settings.fade?this.settings.classes.fade:"",a=e[0].alt?' aria-labelledby="gray-title-'+this.elementId+'"':"",n=e[0].alt?'<title id="gray-title-'+this.elementId+'">'+e[0].alt+"</title>":"",h=t('<div class="grayscale grayscale-replaced '+r+'"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+s.svg.width+" "+s.svg.height+'" width="'+s.svg.width+'" height="'+s.svg.height+'" style="'+s.svg.offset+'" role="img"'+a+">"+n+'<image filter="url(&quot;#gray&quot;)" x="0" y="0" width="'+s.image.width+'" height="'+s.image.height+'" preserveAspectRatio="none" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+s.svg.url+'" /></svg></div>'),s.styles=this.setStyles(i,s.styles,s.svg,s.image),h.css(s.styles),this.addSVGFilterOnce(),e.replaceWith(h)}}),t.fn[r]=function(e){return this.each(function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new h(this,e))}),this},t(e).on("load",function(){t(".grayscale:not(.grayscale-replaced)")[r]()})}(jQuery,window,document);